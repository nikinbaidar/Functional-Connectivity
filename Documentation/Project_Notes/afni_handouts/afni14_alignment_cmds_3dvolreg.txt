### Commands used in afni_14_alignment.pdf
### "Example: 3dvolreg"
### v1.1 (2019-03-26)

# move to directory with data:
cd ~/AFNI_data6/afni

# command for motion correction estimates using registration
3dvolreg -base 3 -cubic -zpad 1          \
         -1Dfile dfile_vr.1D             \
         -1Dmatrix_save mat_vr.aff12.1D  \
         -prefix epi_r1_vrt              \
         epi_r1+orig

# ... and a quick view of motion estimates:
1dplot -volreg -sepscl dfile_vr.1D &

# ... and a quick calculation of 'enorm' (= Euclidean norm) and
# possible censoring (see "1d_tool.py -help" for description of opts
# here):
1d_tool.py -infile dfile_vr.1D    \
           -set_nruns 1           \
           -show_censor_count     \
           -censor_prev_TR        \
           -censor_motion 0.3 SUBJ

# ... with a quick view of those results (with censorline fanciness):
1dplot -one SUBJ_enorm.1D "1D: 152@0.3" &

# and to see the (command line-usable) string of indices to be censored:
cat SUBJ_CENSORTR.txt

# or pro-level fanciness combining the previous two:
1dplot -one `cat SUBJ_CENSORTR.txt` SUBJ_enorm.1D "1D: 152@0.3" &
